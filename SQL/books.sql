DROP TABLE TITLEAUTHORS;
DROP TABLE AUTHORS;
DROP TABLE TITLES;
DROP TABLE SUBJECTS;
DROP TABLE PUBLISHERS;

CREATE TABLE PUBLISHERS
(
    PUBID      NUMBER(3)  CONSTRAINT  PUBLISHERS_PK PRIMARY KEY,
    PNAME      VARCHAR2(30),
    EMAIL      VARCHAR2(50) CONSTRAINT PUBLISHERS_EMAIL_U UNIQUE,
    PHONE      VARCHAR2(30)
);

CREATE TABLE  SUBJECTS
(
    SUBID      VARCHAR2(5)  CONSTRAINT  SUBJECTS_PK PRIMARY KEY,
    SNAME      VARCHAR2(30)
);

CREATE TABLE  AUTHORS
(
    AUID     NUMBER(5)  CONSTRAINT  AUTHORS_PK PRIMARY KEY,
    ANAME      VARCHAR2(30),
    EMAIL      VARCHAR2(50) CONSTRAINT AUTHORS_EMAIL_U UNIQUE,
    PHONE      VARCHAR2(30)
);

CREATE TABLE  TITLES
(
    TITLEID    NUMBER(5)   CONSTRAINT  TITLES_PK PRIMARY KEY,
    TITLE      VARCHAR2(30),
    PUBID      NUMBER(3)   CONSTRAINT  TITLES_PUBID_FK REFERENCES PUBLISHERS(PUBID),
    SUBID      VARCHAR2(5) CONSTRAINT  TITLES_SUBID_FK REFERENCES SUBJECTS(SUBID),
    PUBDATE    DATE,
    COVER      CHAR(1)     CONSTRAINT  TITLES_COVER_CHK  CHECK ( COVER IN ('P','H','p','h')),
    PRICE      NUMBER(4)
);

CREATE TABLE  TITLEAUTHORS
(
    TITLEID    NUMBER(5)  CONSTRAINT  TITLESAUTHORS_TITLEID_FK REFERENCES TITLES(TITLEID),
    AUID       NUMBER(5)  CONSTRAINT  TITLESAUTHORS_AUTHID_FK REFERENCES AUTHORS(AUID),
    IMPORTANCE NUMBER(2),
    CONSTRAINT  TITLESAUTHORS_PK  PRIMARY KEY(TITLEID,AUID)
);

INSERT INTO SUBJECTS VALUES ('ORA','ORACLE DATABASE 10G');
INSERT INTO SUBJECTS VALUES ('JAVA','JAVA LANGUAGE');
INSERT INTO SUBJECTS VALUES ('JEE','JAVA ENTEPRISE EDITION');
INSERT INTO SUBJECTS VALUES ('VB','VISUAL BASIC.NET');
INSERT INTO SUBJECTS VALUES ('ASP','ASP.NET');

INSERT INTO PUBLISHERS VALUES (1,'WILLEY','WDT@VSNL.NET','91-11-23260877');
INSERT INTO PUBLISHERS VALUES (2,'WROX','INFO@WROX.COM',NULL);
INSERT INTO PUBLISHERS VALUES (3,'TATA MCGRAW-HILL','FEEDBACK@TATAMCGRAWHILL.COM','91-11-33333322');
INSERT INTO PUBLISHERS VALUES (4,'TECHMEDIA','BOOKS@TECHMEDIA.COM','91-11-33257660');

INSERT INTO AUTHORS VALUES (101, 'HERBERT SCHILD','HERBERT@YAHOO.COM',NULL);
INSERT INTO AUTHORS VALUES (102, 'JAMES GOODWILL','GOODWILL@HOTMAIL.COM',NULL);
INSERT INTO AUTHORS VALUES (103, 'DAVAID HUNTER','HUNTER@HOTMAIL.COM',NULL);
INSERT INTO AUTHORS VALUES (104, 'STEPHEN WALTHER','WALTHER@GMAIL.COM',NULL);
INSERT INTO AUTHORS VALUES (105, 'KEVIN LONEY','LONEY@ORACLE.COM',NULL);
INSERT INTO AUTHORS VALUES (106, 'ED. ROMANS','ROMANS@THESERVERSIDE.COM',NULL);
INSERT INTO AUTHORS VALUES (107, 'VINEEL','VINEEL567@YXZ.COM',NULL);	--This author is associated with zero titles. Useful to observe the difference in the output when we execute outer join queries

INSERT INTO TITLES VALUES (1001,'ASP.NET UNLEASHED',4,'ASP','12-APR-02','P',540);
INSERT INTO TITLES VALUES (1002,'ORACLE10G COMP. REF.',3,'ORA','1-MAY-05','P',575);
INSERT INTO TITLES VALUES (1003,'MASTERING EJB',1,'JEE','3-FEB-05','P',475);
INSERT INTO TITLES VALUES (1004,'JAVA COMP. REF',3,'JAVA','3-APR-05','H',499);
INSERT INTO TITLES VALUES (1005,'PRO. VB.NET',2,'VB','15-JUN-05','H',450);
INSERT INTO TITLES VALUES (1006, 'ORACLE 10G CONCEPTS',1,'ORA','05-AUG-08','P',450);
INSERT INTO TITLES VALUES (1007, 'ORACLE PL/SQL',1,'ORA','02-JAN-07','H',350);
INSERT INTO TITLES VALUES (1008, 'JAVA LANGUAGE',2,'JAVA','23-SEP-07','H',300);
INSERT INTO TITLES VALUES (1009, 'JAVA PROJECTS',2,'JAVA','3-OCT-06','P',400);
INSERT INTO TITLES VALUES (1010, 'VB PROJECTS',4,'VB','3-AUG-06','P',200);

INSERT INTO TITLEAUTHORS VALUES (1001,104,1);
INSERT INTO TITLEAUTHORS VALUES (1002,105,1);
INSERT INTO TITLEAUTHORS VALUES (1003,106,1);
INSERT INTO TITLEAUTHORS VALUES (1004,101,1);
INSERT INTO TITLEAUTHORS VALUES (1005,103,1);
INSERT INTO TITLEAUTHORS VALUES (1005,102,2);
INSERT INTO TITLEAUTHORS VALUES (1006,101,2);
INSERT INTO TITLEAUTHORS VALUES (1007,102,1);
INSERT INTO TITLEAUTHORS VALUES (1008,103,3);
INSERT INTO TITLEAUTHORS VALUES (1009,103,1);
INSERT INTO TITLEAUTHORS VALUES (1010,103,3);

COMMIT;

